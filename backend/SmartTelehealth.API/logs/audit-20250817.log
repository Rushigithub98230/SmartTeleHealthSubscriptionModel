2025-08-17 03:20:26.519 +05:30 [WRN] The foreign key property 'QuestionnaireTemplate.CategoryId1' was created in shadow state because a conflicting property with the simple name 'CategoryId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-08-17 03:20:26.556 +05:30 [WRN] The foreign key property 'UserResponse.CategoryId1' was created in shadow state because a conflicting property with the simple name 'CategoryId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-08-17 03:20:26.625 +05:30 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'Subscription'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-08-17 03:20:27.930 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-08-17 03:20:28.322 +05:30 [INF] Subscription Background Service started
2025-08-17 03:20:28.587 +05:30 [INF] Stripe service initialized successfully
2025-08-17 03:20:28.587 +05:30 [INF] Starting automated billing process
2025-08-17 03:20:28.590 +05:30 [INF] Starting recurring billing process by user 0
2025-08-17 03:20:28.662 +05:30 [INF] Automated billing service started
2025-08-17 03:20:28.666 +05:30 [INF] Stripe service initialized successfully
2025-08-17 03:20:28.692 +05:30 [ERR] Failed executing DbCommand (28ms) [Parameters=[@__billingDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Amount], [s].[AutoRenew], [s].[BillingCycleId], [s].[CancellationReason], [s].[CancelledAt], [s].[CancelledDate], [s].[CreatedAt], [s].[CreatedBy], [s].[CreatedDate], [s].[Currency], [s].[CurrentPrice], [s].[DeletedBy], [s].[DeletedDate], [s].[EndDate], [s].[ExpirationDate], [s].[ExpiredAt], [s].[ExpiryDate], [s].[FailedPaymentAttempts], [s].[HealthAssessmentId], [s].[IsActive], [s].[IsDeleted], [s].[IsTrialSubscription], [s].[LastBillingDate], [s].[LastPaymentDate], [s].[LastPaymentError], [s].[LastPaymentFailedDate], [s].[LastUsedDate], [s].[MasterBillingCycleId], [s].[MasterCurrencyId], [s].[NextBillingDate], [s].[Notes], [s].[PauseReason], [s].[PausedDate], [s].[PaymentMethodId], [s].[ProviderId], [s].[RenewedAt], [s].[ResumedDate], [s].[StartDate], [s].[Status], [s].[StatusReason], [s].[StripeCustomerId], [s].[StripeSubscriptionId], [s].[SubscriptionPlanId], [s].[SubscriptionStatus], [s].[SuspendedDate], [s].[TotalUsageCount], [s].[TrialDurationInDays], [s].[TrialEndDate], [s].[TrialStartDate], [s].[UpdatedAt], [s].[UpdatedBy], [s].[UpdatedDate], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[City], [u].[ConcurrencyStamp], [u].[Country], [u].[CreatedAt], [u].[CreatedBy], [u].[CreatedDate], [u].[DateOfBirth], [u].[DeletedBy], [u].[DeletedDate], [u].[Email], [u].[EmailConfirmed], [u].[EmergencyContact], [u].[EmergencyContactName], [u].[EmergencyContactPhone], [u].[EmergencyPhone], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[IsPhoneVerified], [u].[LanguagePreference], [u].[LastLoginAt], [u].[LastName], [u].[LicenseNumber], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[NotificationPreferences], [u].[PasswordHash], [u].[PasswordResetToken], [u].[Phone], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfilePicture], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[ResetTokenExpires], [u].[SecurityStamp], [u].[State], [u].[StripeCustomerId], [u].[TimeZonePreference], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UpdatedBy], [u].[UpdatedDate], [u].[UserName], [u].[UserRoleId], [u].[UserType], [u].[ZipCode], [s0].[Id], [s0].[BillingCycleId], [s0].[CategoryId], [s0].[CreatedAt], [s0].[CreatedBy], [s0].[CreatedDate], [s0].[CurrencyId], [s0].[DeletedBy], [s0].[DeletedDate], [s0].[Description], [s0].[DiscountValidUntil], [s0].[DiscountedPrice], [s0].[DisplayOrder], [s0].[EffectiveDate], [s0].[ExpirationDate], [s0].[Features], [s0].[IsActive], [s0].[IsDeleted], [s0].[IsFeatured], [s0].[IsMostPopular], [s0].[IsTrending], [s0].[IsTrialAllowed], [s0].[MasterBillingCycleId], [s0].[MasterCurrencyId], [s0].[Name], [s0].[Price], [s0].[ShortDescription], [s0].[StripeAnnualPriceId], [s0].[StripeMonthlyPriceId], [s0].[StripeProductId], [s0].[StripeQuarterlyPriceId], [s0].[Terms], [s0].[TrialDurationInDays], [s0].[UpdatedAt], [s0].[UpdatedBy], [s0].[UpdatedDate]
FROM [Subscriptions] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [SubscriptionPlans] AS [s0] ON [s].[SubscriptionPlanId] = [s0].[Id]
WHERE [s].[Status] = N'Active' AND [s].[NextBillingDate] <= @__billingDate_0 AND [s].[IsDeleted] = CAST(0 AS bit)
2025-08-17 03:20:28.736 +05:30 [INF] Starting automated billing cycle at "2025-08-16T21:50:28.7364072Z"
2025-08-17 03:20:28.742 +05:30 [ERR] Failed executing DbCommand (3ms) [Parameters=[@__billingDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Amount], [s].[AutoRenew], [s].[BillingCycleId], [s].[CancellationReason], [s].[CancelledAt], [s].[CancelledDate], [s].[CreatedAt], [s].[CreatedBy], [s].[CreatedDate], [s].[Currency], [s].[CurrentPrice], [s].[DeletedBy], [s].[DeletedDate], [s].[EndDate], [s].[ExpirationDate], [s].[ExpiredAt], [s].[ExpiryDate], [s].[FailedPaymentAttempts], [s].[HealthAssessmentId], [s].[IsActive], [s].[IsDeleted], [s].[IsTrialSubscription], [s].[LastBillingDate], [s].[LastPaymentDate], [s].[LastPaymentError], [s].[LastPaymentFailedDate], [s].[LastUsedDate], [s].[MasterBillingCycleId], [s].[MasterCurrencyId], [s].[NextBillingDate], [s].[Notes], [s].[PauseReason], [s].[PausedDate], [s].[PaymentMethodId], [s].[ProviderId], [s].[RenewedAt], [s].[ResumedDate], [s].[StartDate], [s].[Status], [s].[StatusReason], [s].[StripeCustomerId], [s].[StripeSubscriptionId], [s].[SubscriptionPlanId], [s].[SubscriptionStatus], [s].[SuspendedDate], [s].[TotalUsageCount], [s].[TrialDurationInDays], [s].[TrialEndDate], [s].[TrialStartDate], [s].[UpdatedAt], [s].[UpdatedBy], [s].[UpdatedDate], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[City], [u].[ConcurrencyStamp], [u].[Country], [u].[CreatedAt], [u].[CreatedBy], [u].[CreatedDate], [u].[DateOfBirth], [u].[DeletedBy], [u].[DeletedDate], [u].[Email], [u].[EmailConfirmed], [u].[EmergencyContact], [u].[EmergencyContactName], [u].[EmergencyContactPhone], [u].[EmergencyPhone], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[IsPhoneVerified], [u].[LanguagePreference], [u].[LastLoginAt], [u].[LastName], [u].[LicenseNumber], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[NotificationPreferences], [u].[PasswordHash], [u].[PasswordResetToken], [u].[Phone], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfilePicture], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[ResetTokenExpires], [u].[SecurityStamp], [u].[State], [u].[StripeCustomerId], [u].[TimeZonePreference], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UpdatedBy], [u].[UpdatedDate], [u].[UserName], [u].[UserRoleId], [u].[UserType], [u].[ZipCode], [s0].[Id], [s0].[BillingCycleId], [s0].[CategoryId], [s0].[CreatedAt], [s0].[CreatedBy], [s0].[CreatedDate], [s0].[CurrencyId], [s0].[DeletedBy], [s0].[DeletedDate], [s0].[Description], [s0].[DiscountValidUntil], [s0].[DiscountedPrice], [s0].[DisplayOrder], [s0].[EffectiveDate], [s0].[ExpirationDate], [s0].[Features], [s0].[IsActive], [s0].[IsDeleted], [s0].[IsFeatured], [s0].[IsMostPopular], [s0].[IsTrending], [s0].[IsTrialAllowed], [s0].[MasterBillingCycleId], [s0].[MasterCurrencyId], [s0].[Name], [s0].[Price], [s0].[ShortDescription], [s0].[StripeAnnualPriceId], [s0].[StripeMonthlyPriceId], [s0].[StripeProductId], [s0].[StripeQuarterlyPriceId], [s0].[Terms], [s0].[TrialDurationInDays], [s0].[UpdatedAt], [s0].[UpdatedBy], [s0].[UpdatedDate]
FROM [Subscriptions] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [SubscriptionPlans] AS [s0] ON [s].[SubscriptionPlanId] = [s0].[Id]
WHERE [s].[Status] = N'Active' AND [s].[NextBillingDate] <= @__billingDate_0 AND [s].[IsDeleted] = CAST(0 AS bit)
2025-08-17 03:20:28.741 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'SmartTelehealth.Infrastructure.Data.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Amount'.
Invalid column name 'CancelledAt'.
Invalid column name 'Currency'.
Invalid column name 'ExpiredAt'.
Invalid column name 'ExpiryDate'.
Invalid column name 'RenewedAt'.
Invalid column name 'SubscriptionStatus'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:83db8c4d-72f7-4061-a30b-8bd043ea6749
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Amount'.
Invalid column name 'CancelledAt'.
Invalid column name 'Currency'.
Invalid column name 'ExpiredAt'.
Invalid column name 'ExpiryDate'.
Invalid column name 'RenewedAt'.
Invalid column name 'SubscriptionStatus'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:83db8c4d-72f7-4061-a30b-8bd043ea6749
Error Number:207,State:1,Class:16
2025-08-17 03:20:28.744 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'SmartTelehealth.Infrastructure.Data.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Amount'.
Invalid column name 'CancelledAt'.
Invalid column name 'Currency'.
Invalid column name 'ExpiredAt'.
Invalid column name 'ExpiryDate'.
Invalid column name 'RenewedAt'.
Invalid column name 'SubscriptionStatus'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:83db8c4d-72f7-4061-a30b-8bd043ea6749
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Amount'.
Invalid column name 'CancelledAt'.
Invalid column name 'Currency'.
Invalid column name 'ExpiredAt'.
Invalid column name 'ExpiryDate'.
Invalid column name 'RenewedAt'.
Invalid column name 'SubscriptionStatus'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:83db8c4d-72f7-4061-a30b-8bd043ea6749
Error Number:207,State:1,Class:16
2025-08-17 03:20:28.855 +05:30 [ERR] Error in recurring billing process by user 0
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Amount'.
Invalid column name 'CancelledAt'.
Invalid column name 'Currency'.
Invalid column name 'ExpiredAt'.
Invalid column name 'ExpiryDate'.
Invalid column name 'RenewedAt'.
Invalid column name 'SubscriptionStatus'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at SmartTelehealth.Infrastructure.Repositories.SubscriptionRepository.GetSubscriptionsDueForBillingAsync(DateTime billingDate) in D:\DayUsers\Rushikesh\Personal\.Net Projects\TeleHealthWithSubscriptionModel-v1\backend\SmartTelehealth.Infrastructure\Repositories\SubscriptionRepository.cs:line 123
   at SmartTelehealth.Application.Services.AutomatedBillingService.ProcessRecurringBillingAsync(TokenModel tokenModel) in D:\DayUsers\Rushikesh\Personal\.Net Projects\TeleHealthWithSubscriptionModel-v1\backend\SmartTelehealth.Application\Services\AutomatedBillingService.cs:line 38
ClientConnectionId:83db8c4d-72f7-4061-a30b-8bd043ea6749
Error Number:207,State:1,Class:16
2025-08-17 03:20:28.929 +05:30 [ERR] Error processing due subscriptions
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Amount'.
Invalid column name 'CancelledAt'.
Invalid column name 'Currency'.
Invalid column name 'ExpiredAt'.
Invalid column name 'ExpiryDate'.
Invalid column name 'RenewedAt'.
Invalid column name 'SubscriptionStatus'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at SmartTelehealth.Infrastructure.Repositories.SubscriptionRepository.GetSubscriptionsDueForBillingAsync(DateTime billingDate) in D:\DayUsers\Rushikesh\Personal\.Net Projects\TeleHealthWithSubscriptionModel-v1\backend\SmartTelehealth.Infrastructure\Repositories\SubscriptionRepository.cs:line 123
   at SmartTelehealth.Infrastructure.Services.AutomatedBillingService.ProcessDueSubscriptionsAsync(ISubscriptionRepository subscriptionRepository, IBillingService billingService, INotificationService notificationService, IAuditService auditService, IUserService userService) in D:\DayUsers\Rushikesh\Personal\.Net Projects\TeleHealthWithSubscriptionModel-v1\backend\SmartTelehealth.Infrastructure\Services\AutomatedBillingService.cs:line 99
ClientConnectionId:83db8c4d-72f7-4061-a30b-8bd043ea6749
Error Number:207,State:1,Class:16
2025-08-17 03:20:29.026 +05:30 [ERR] Error in automated billing process
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Amount'.
Invalid column name 'CancelledAt'.
Invalid column name 'Currency'.
Invalid column name 'ExpiredAt'.
Invalid column name 'ExpiryDate'.
Invalid column name 'RenewedAt'.
Invalid column name 'SubscriptionStatus'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at SmartTelehealth.Infrastructure.Repositories.SubscriptionRepository.GetSubscriptionsDueForBillingAsync(DateTime billingDate) in D:\DayUsers\Rushikesh\Personal\.Net Projects\TeleHealthWithSubscriptionModel-v1\backend\SmartTelehealth.Infrastructure\Repositories\SubscriptionRepository.cs:line 123
   at SmartTelehealth.Application.Services.AutomatedBillingService.ProcessRecurringBillingAsync(TokenModel tokenModel) in D:\DayUsers\Rushikesh\Personal\.Net Projects\TeleHealthWithSubscriptionModel-v1\backend\SmartTelehealth.Application\Services\AutomatedBillingService.cs:line 38
   at SmartTelehealth.Application.Services.BackgroundServices.SubscriptionBackgroundService.ProcessAutomatedBillingAsync(CancellationToken stoppingToken) in D:\DayUsers\Rushikesh\Personal\.Net Projects\TeleHealthWithSubscriptionModel-v1\backend\SmartTelehealth.Application\Services\BackgroundServices\SubscriptionBackgroundService.cs:line 74
ClientConnectionId:83db8c4d-72f7-4061-a30b-8bd043ea6749
Error Number:207,State:1,Class:16
2025-08-17 03:20:29.124 +05:30 [ERR] Error in automated billing cycle
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Amount'.
Invalid column name 'CancelledAt'.
Invalid column name 'Currency'.
Invalid column name 'ExpiredAt'.
Invalid column name 'ExpiryDate'.
Invalid column name 'RenewedAt'.
Invalid column name 'SubscriptionStatus'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at SmartTelehealth.Infrastructure.Repositories.SubscriptionRepository.GetSubscriptionsDueForBillingAsync(DateTime billingDate) in D:\DayUsers\Rushikesh\Personal\.Net Projects\TeleHealthWithSubscriptionModel-v1\backend\SmartTelehealth.Infrastructure\Repositories\SubscriptionRepository.cs:line 123
   at SmartTelehealth.Infrastructure.Services.AutomatedBillingService.ProcessDueSubscriptionsAsync(ISubscriptionRepository subscriptionRepository, IBillingService billingService, INotificationService notificationService, IAuditService auditService, IUserService userService) in D:\DayUsers\Rushikesh\Personal\.Net Projects\TeleHealthWithSubscriptionModel-v1\backend\SmartTelehealth.Infrastructure\Services\AutomatedBillingService.cs:line 99
   at SmartTelehealth.Infrastructure.Services.AutomatedBillingService.ProcessBillingCycleAsync() in D:\DayUsers\Rushikesh\Personal\.Net Projects\TeleHealthWithSubscriptionModel-v1\backend\SmartTelehealth.Infrastructure\Services\AutomatedBillingService.cs:line 66
ClientConnectionId:83db8c4d-72f7-4061-a30b-8bd043ea6749
Error Number:207,State:1,Class:16
2025-08-17 03:20:29.164 +05:30 [INF] Starting lifecycle management process
2025-08-17 03:20:29.205 +05:30 [ERR] Error in automated billing cycle
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Amount'.
Invalid column name 'CancelledAt'.
Invalid column name 'Currency'.
Invalid column name 'ExpiredAt'.
Invalid column name 'ExpiryDate'.
Invalid column name 'RenewedAt'.
Invalid column name 'SubscriptionStatus'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at SmartTelehealth.Infrastructure.Repositories.SubscriptionRepository.GetSubscriptionsDueForBillingAsync(DateTime billingDate) in D:\DayUsers\Rushikesh\Personal\.Net Projects\TeleHealthWithSubscriptionModel-v1\backend\SmartTelehealth.Infrastructure\Repositories\SubscriptionRepository.cs:line 123
   at SmartTelehealth.Infrastructure.Services.AutomatedBillingService.ProcessDueSubscriptionsAsync(ISubscriptionRepository subscriptionRepository, IBillingService billingService, INotificationService notificationService, IAuditService auditService, IUserService userService) in D:\DayUsers\Rushikesh\Personal\.Net Projects\TeleHealthWithSubscriptionModel-v1\backend\SmartTelehealth.Infrastructure\Services\AutomatedBillingService.cs:line 99
   at SmartTelehealth.Infrastructure.Services.AutomatedBillingService.ProcessBillingCycleAsync() in D:\DayUsers\Rushikesh\Personal\.Net Projects\TeleHealthWithSubscriptionModel-v1\backend\SmartTelehealth.Infrastructure\Services\AutomatedBillingService.cs:line 66
   at SmartTelehealth.Infrastructure.Services.AutomatedBillingService.ExecuteAsync(CancellationToken stoppingToken) in D:\DayUsers\Rushikesh\Personal\.Net Projects\TeleHealthWithSubscriptionModel-v1\backend\SmartTelehealth.Infrastructure\Services\AutomatedBillingService.cs:line 36
ClientConnectionId:83db8c4d-72f7-4061-a30b-8bd043ea6749
Error Number:207,State:1,Class:16
2025-08-17 03:20:29.242 +05:30 [ERR] Failed executing DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Amount], [s].[AutoRenew], [s].[BillingCycleId], [s].[CancellationReason], [s].[CancelledAt], [s].[CancelledDate], [s].[CreatedAt], [s].[CreatedBy], [s].[CreatedDate], [s].[Currency], [s].[CurrentPrice], [s].[DeletedBy], [s].[DeletedDate], [s].[EndDate], [s].[ExpirationDate], [s].[ExpiredAt], [s].[ExpiryDate], [s].[FailedPaymentAttempts], [s].[HealthAssessmentId], [s].[IsActive], [s].[IsDeleted], [s].[IsTrialSubscription], [s].[LastBillingDate], [s].[LastPaymentDate], [s].[LastPaymentError], [s].[LastPaymentFailedDate], [s].[LastUsedDate], [s].[MasterBillingCycleId], [s].[MasterCurrencyId], [s].[NextBillingDate], [s].[Notes], [s].[PauseReason], [s].[PausedDate], [s].[PaymentMethodId], [s].[ProviderId], [s].[RenewedAt], [s].[ResumedDate], [s].[StartDate], [s].[Status], [s].[StatusReason], [s].[StripeCustomerId], [s].[StripeSubscriptionId], [s].[SubscriptionPlanId], [s].[SubscriptionStatus], [s].[SuspendedDate], [s].[TotalUsageCount], [s].[TrialDurationInDays], [s].[TrialEndDate], [s].[TrialStartDate], [s].[UpdatedAt], [s].[UpdatedBy], [s].[UpdatedDate], [s].[UserId], [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[City], [u].[ConcurrencyStamp], [u].[Country], [u].[CreatedAt], [u].[CreatedBy], [u].[CreatedDate], [u].[DateOfBirth], [u].[DeletedBy], [u].[DeletedDate], [u].[Email], [u].[EmailConfirmed], [u].[EmergencyContact], [u].[EmergencyContactName], [u].[EmergencyContactPhone], [u].[EmergencyPhone], [u].[FirstName], [u].[Gender], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[IsPhoneVerified], [u].[LanguagePreference], [u].[LastLoginAt], [u].[LastName], [u].[LicenseNumber], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[NotificationPreferences], [u].[PasswordHash], [u].[PasswordResetToken], [u].[Phone], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfilePicture], [u].[RefreshToken], [u].[RefreshTokenExpiry], [u].[ResetTokenExpires], [u].[SecurityStamp], [u].[State], [u].[StripeCustomerId], [u].[TimeZonePreference], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UpdatedBy], [u].[UpdatedDate], [u].[UserName], [u].[UserRoleId], [u].[UserType], [u].[ZipCode], [s0].[Id], [s0].[BillingCycleId], [s0].[CategoryId], [s0].[CreatedAt], [s0].[CreatedBy], [s0].[CreatedDate], [s0].[CurrencyId], [s0].[DeletedBy], [s0].[DeletedDate], [s0].[Description], [s0].[DiscountValidUntil], [s0].[DiscountedPrice], [s0].[DisplayOrder], [s0].[EffectiveDate], [s0].[ExpirationDate], [s0].[Features], [s0].[IsActive], [s0].[IsDeleted], [s0].[IsFeatured], [s0].[IsMostPopular], [s0].[IsTrending], [s0].[IsTrialAllowed], [s0].[MasterBillingCycleId], [s0].[MasterCurrencyId], [s0].[Name], [s0].[Price], [s0].[ShortDescription], [s0].[StripeAnnualPriceId], [s0].[StripeMonthlyPriceId], [s0].[StripeProductId], [s0].[StripeQuarterlyPriceId], [s0].[Terms], [s0].[TrialDurationInDays], [s0].[UpdatedAt], [s0].[UpdatedBy], [s0].[UpdatedDate], [m].[Id], [m].[CreatedBy], [m].[CreatedDate], [m].[DeletedBy], [m].[DeletedDate], [m].[Description], [m].[DurationInDays], [m].[IsActive], [m].[IsDeleted], [m].[Name], [m].[SortOrder], [m].[UpdatedBy], [m].[UpdatedDate]
FROM [Subscriptions] AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[Id]
INNER JOIN [SubscriptionPlans] AS [s0] ON [s].[SubscriptionPlanId] = [s0].[Id]
INNER JOIN [MasterBillingCycles] AS [m] ON [s].[BillingCycleId] = [m].[Id]
WHERE [s].[IsDeleted] = CAST(0 AS bit)
ORDER BY [s].[CreatedAt] DESC
2025-08-17 03:20:29.278 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'SmartTelehealth.Infrastructure.Data.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Amount'.
Invalid column name 'CancelledAt'.
Invalid column name 'Currency'.
Invalid column name 'ExpiredAt'.
Invalid column name 'ExpiryDate'.
Invalid column name 'RenewedAt'.
Invalid column name 'SubscriptionStatus'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:83db8c4d-72f7-4061-a30b-8bd043ea6749
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Amount'.
Invalid column name 'CancelledAt'.
Invalid column name 'Currency'.
Invalid column name 'ExpiredAt'.
Invalid column name 'ExpiryDate'.
Invalid column name 'RenewedAt'.
Invalid column name 'SubscriptionStatus'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:83db8c4d-72f7-4061-a30b-8bd043ea6749
Error Number:207,State:1,Class:16
2025-08-17 03:20:29.349 +05:30 [ERR] Error in lifecycle management process
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Amount'.
Invalid column name 'CancelledAt'.
Invalid column name 'Currency'.
Invalid column name 'ExpiredAt'.
Invalid column name 'ExpiryDate'.
Invalid column name 'RenewedAt'.
Invalid column name 'SubscriptionStatus'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at SmartTelehealth.Infrastructure.Repositories.SubscriptionRepository.GetAllSubscriptionsAsync() in D:\DayUsers\Rushikesh\Personal\.Net Projects\TeleHealthWithSubscriptionModel-v1\backend\SmartTelehealth.Infrastructure\Repositories\SubscriptionRepository.cs:line 228
   at SmartTelehealth.Application.Services.BackgroundServices.SubscriptionBackgroundService.ProcessLifecycleManagementAsync(CancellationToken stoppingToken) in D:\DayUsers\Rushikesh\Personal\.Net Projects\TeleHealthWithSubscriptionModel-v1\backend\SmartTelehealth.Application\Services\BackgroundServices\SubscriptionBackgroundService.cs:line 95
ClientConnectionId:83db8c4d-72f7-4061-a30b-8bd043ea6749
Error Number:207,State:1,Class:16
2025-08-17 03:20:29.625 +05:30 [WRN] Failed to determine the https port for redirect.
